(()=>{"use strict";var e={d:(t,n)=>{for(var c in n)e.o(n,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:n[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};function t(){k.forEach((e=>{localStorage.setItem(e.title,JSON.stringify(e))}))}function n(){document.querySelector("#content").innerHTML="",o(c())}function c(){const e=[...document.querySelectorAll(".projects li"),...document.querySelectorAll(".default-timetables li")];for(let n in e)if(e[n].classList.contains("active")&&!e[n].classList.contains("add-project")){var t=e[n];break}return t.classList.contains("project")?k.find((e=>e.title==t.childNodes[1].childNodes[0].textContent)):k.find((e=>e.title==t.textContent.trim()))}function o(e){const t=document.querySelector("#content");t.innerHTML="",t.appendChild(function(e){const t=document.createElement("h2");return t.textContent=e.title,t}(e)),t.appendChild(function(e){const t=document.createElement("div");t.className="project-tasks";for(let n in e.projectTasks){const c=document.createElement("div");c.className="task-card";const o=document.createElement("p");o.className="task-title",o.textContent=e.projectTasks[n].title;const a=document.createElement("p");a.className="task-description",a.textContent=e.projectTasks[n].description;const r=document.createElement("div");r.className="round";const s=document.createElement("input");s.type="checkbox",s.id=`checkbox${n}`,e.projectTasks[n].finished&&(s.checked=!0,c.style.backgroundPosition="right",c.style.background="linear-gradient(to left, rgb(14, 180, 17) 50%, rgba(188, 188, 188, 0.476) 50%) right",c.style.backgroundSize="200%"),s.addEventListener("click",(e=>{i(e.target.id.toString())}));const d=document.createElement("label");d.htmlFor=`checkbox${n}`,r.appendChild(s),r.appendChild(d),c.appendChild(o),c.appendChild(a),c.appendChild(r),t.appendChild(c)}const n=document.createElement("div");n.addEventListener("click",a),n.className="task-card add-task";const c=document.createElement("i");c.className="fas fa-plus",c.ariaHidden=!0;const o=document.createElement("p");return o.textContent="Add new task",n.appendChild(c),n.appendChild(o),t.appendChild(n),t}(e))}function i(e){!function(e){const t=document.getElementById(e),n=t.parentElement.parentElement;t.checked?(n.style.backgroundPosition="right",n.style.background="linear-gradient(to left, rgb(14, 180, 17) 50%, rgba(188, 188, 188, 0.476) 50%) right",n.style.backgroundSize="200%",n.style.transition=".3s ease-out"):n.style.backgroundPosition="left"}(e);let n=e.substr(e.length-1);n=c().projectTasks[n],n.finished=!n.finished,t()}function a(){document.querySelector(".add-task").removeEventListener("click",a),function(){const e=document.querySelector(".add-task");e.classList.add("active"),e.innerHTML='<input id="task-name" maxlength= "40" placeholder="Task name">\n    <input id="task-description" maxlength= "100" placeholder="Description"></input>\n    <div class="confirmation">\n    <div class="confirm">Add</div>\n    <div class="cancel">Cancel</div>\n    </div>'}();const e=document.querySelector(".add-task .confirm"),t=document.querySelector(".add-task .cancel");e.addEventListener("click",r),t.addEventListener("click",s)}function r(){const e=l(document.querySelector("#task-name").value,document.querySelector("#task-description").value);if(""!=e.title){const n=c();n.projectTasks.push(e),o(n),t()}}function s(){const e=document.querySelector(".add-task");e.classList.remove("active"),e.innerHTML='<i class="fas fa-plus" aria-hidden="true"></i><p>Add new task</p>',setTimeout((()=>e.addEventListener("click",a)),1)}function d(e,t){return{title:e,description:t,projectTasks:[]}}function l(e,t){return{title:e,description:t,finished:!1}}function u(e){e.forEach((t=>{t.classList.contains("add-project")||t.addEventListener("click",(()=>{e.forEach((e=>{e.classList.remove("active")})),t.classList.add("active"),n()}))}))}function m(){document.querySelector(".add-project").removeEventListener("click",m),function(){const e=document.querySelector(".add-project");e.classList.add("active"),e.innerHTML='<input id="project-name" placeholder="Project name">\n    <textarea id="project-description" placeholder="Description"></textarea>\n    <div class="confirmation">\n    <div class="confirm">Add</div>\n    <div class="cancel">Cancel</div>\n    </div>'}();const e=document.querySelector(".confirm"),t=document.querySelector(".cancel");e.addEventListener("click",f),t.addEventListener("click",p)}function p(){const e=document.querySelector(".add-project");e.classList.remove("active"),e.innerHTML='<i class="fas fa-plus" aria-hidden="true"></i>\n    <div class="add-text">Add project</div>',setTimeout((()=>e.addEventListener("click",m)),1)}function f(){const e=d(document.querySelector("#project-name").value,document.querySelector("#project-description").value);""!=e.title&&(function(e){k.push(e),n()}(e),h(),t()),p()}function h(){const e=document.querySelector(".projects");e.innerHTML='<li class="add-project">\n    <i class="fas fa-plus" aria-hidden="true"></i>\n    <div class="add-text">Add project</div>\n    </li>';const t=document.querySelector(".add-project");for(let n=3;n<k.length;n++){const c=document.createElement("li");c.className="project";const o=document.createElement("i");o.className="fas fa-tasks",o.ariaHidden=!0;const i=document.createElement("div");i.className="project-title",i.textContent=k[n].title;const a=document.createElement("div");a.className="project-description",a.textContent=k[n].description;const r=document.createElement("div");r.className="project-info",r.appendChild(i),r.appendChild(a),c.appendChild(o),c.appendChild(r),e.insertBefore(c,t)}u(document.querySelectorAll("#sidebar ul li"))}e.d({},{q:()=>k});let k=[];null==localStorage.getItem("firstTime")?(localStorage.clear(),localStorage.setItem("firstTime",!1),k=function(){const e=d("Today","");e.projectTasks=[l("Groceries","Get groceries from the supermarket"),l("Homework","Do the homework")];const t=d("This Week","");t.projectTasks=[l("Service car","Service the car to Tomas' service shop"),l("Finish CS project","Finish finals project about AI")];const n=d("This Month","");return n.projectTasks=[l("Pay Electricity Bills","Pay bills online"),l("Search for new job","Search LinkedIn for job postings")],[e,t,n]}(),t()):function(){let e=Object.keys(localStorage);e=e.filter((e=>"firstTime"!=e));let t=0;e.forEach((e=>{k[t]=JSON.parse(localStorage.getItem(e)),t++}))}(),u(document.querySelectorAll(".default-timetables li")),h(),document.querySelector(".add-project").addEventListener("click",m),n()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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RSxHQUN4QkUsRUFBWW5FLFlBQVlrRSxHQUV4QlQsRUFBR3pELFlBQVkrQixHQUNmMEIsRUFBR3pELFlBQVltRSxHQUVmSixFQUFXSyxhQUFhWCxFQUFJQyxFQUNoQyxDQUVBSCxFQUF3QnZFLFNBQVNNLGlCQUFpQixrQkFDdEQsQyxrQkN4R08sSUFBSWYsRUFBVyxHQUVtQixNQUFyQ0csYUFBYTJGLFFBQVEsY0FDeEIzRixhQUFhNEYsUUFDYjVGLGFBQWFDLFFBQVEsYUFBYSxHQUNsQ0osRUFTRCxXQUNDLE1BQU1nRyxFQUFlakIsRUFBUSxRQUFTLElBQ3RDaUIsRUFBYWhFLGFBQWUsQ0FDM0IwQyxFQUFLLFlBQWEsc0NBQ2xCQSxFQUFLLFdBQVksb0JBR2xCLE1BQU11QixFQUFrQmxCLEVBQVEsWUFBYSxJQUM3Q2tCLEVBQWdCakUsYUFBZSxDQUM5QjBDLEVBQUssY0FBZSwwQ0FDcEJBLEVBQUssb0JBQXFCLG1DQUczQixNQUFNd0IsRUFBbUJuQixFQUFRLGFBQWMsSUFNL0MsT0FMQW1CLEVBQWlCbEUsYUFBZSxDQUMvQjBDLEVBQUssd0JBQXlCLG9CQUM5QkEsRUFBSyxxQkFBc0IscUNBR3JCLENBQUNzQixFQUFjQyxFQUFpQkMsRUFDeEMsQ0E3QllDLEdBQ1hwRyxLSEhNLFdBQ0gsSUFBSXFHLEVBQWdCOUcsT0FBTytHLEtBQUtsRyxjQUNoQ2lHLEVBQWdCQSxFQUFjRSxRQUFPakcsR0FBa0IsYUFBVEEsSUFDOUMsSUFBSW9GLEVBQUksRUFDUlcsRUFBY25HLFNBQVN5RixJQUNuQjFGLEVBQVN5RixHQUFLbkYsS0FBS2lHLE1BQU1wRyxhQUFhMkYsUUFBUUosSUFDOUNELEdBQUcsR0FFWCxDR0hDZSxHRFBHeEIsRUFBd0J2RSxTQUFTTSxpQkFBaUIsMkJBQ2xEd0UsSUFDbUI5RSxTQUFTQyxjQUFjLGdCQUMvQnFDLGlCQUFpQixRQUFTLEdDUXpDdkMsRyIsInNvdXJjZXMiOlsid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL2Jvb3RzdHJhcCIsIndlYnBhY2s6Ly90b2RvLWxpc3Qvd2VicGFjay9ydW50aW1lL2RlZmluZSBwcm9wZXJ0eSBnZXR0ZXJzIiwid2VicGFjazovL3RvZG8tbGlzdC93ZWJwYWNrL3J1bnRpbWUvaGFzT3duUHJvcGVydHkgc2hvcnRoYW5kIiwid2VicGFjazovL3RvZG8tbGlzdC8uL3NyYy9sb2NhbFN0b3JhZ2UuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2NvbnRlbnQuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL3NpZGViYXIuanMiLCJ3ZWJwYWNrOi8vdG9kby1saXN0Ly4vc3JjL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIFRoZSByZXF1aXJlIHNjb3BlXG52YXIgX193ZWJwYWNrX3JlcXVpcmVfXyA9IHt9O1xuXG4iLCIvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9ucyBmb3IgaGFybW9ueSBleHBvcnRzXG5fX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSAoZXhwb3J0cywgZGVmaW5pdGlvbikgPT4ge1xuXHRmb3IodmFyIGtleSBpbiBkZWZpbml0aW9uKSB7XG5cdFx0aWYoX193ZWJwYWNrX3JlcXVpcmVfXy5vKGRlZmluaXRpb24sIGtleSkgJiYgIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBrZXkpKSB7XG5cdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZGVmaW5pdGlvbltrZXldIH0pO1xuXHRcdH1cblx0fVxufTsiLCJfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSAob2JqLCBwcm9wKSA9PiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwgcHJvcCkpIiwiaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG5cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzYXZlTG9jYWxseSgpIHtcclxuICAgIHByb2plY3RzLmZvckVhY2goIHByb2plY3QgPT4ge1xyXG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKHByb2plY3QudGl0bGUsIEpTT04uc3RyaW5naWZ5KHByb2plY3QpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbG9hZExvY2FsbHkoKSB7XHJcbiAgICBsZXQgcHJvamVjdFRpdGxlcyA9IE9iamVjdC5rZXlzKGxvY2FsU3RvcmFnZSk7XHJcbiAgICBwcm9qZWN0VGl0bGVzID0gcHJvamVjdFRpdGxlcy5maWx0ZXIodGl0bGUgPT4gdGl0bGUgIT0gXCJmaXJzdFRpbWVcIik7XHJcbiAgICBsZXQgaSA9IDA7XHJcbiAgICBwcm9qZWN0VGl0bGVzLmZvckVhY2goIHByb2plY3RUaXRsZSA9PiB7XHJcbiAgICAgICAgcHJvamVjdHNbaV0gPSBKU09OLnBhcnNlKGxvY2FsU3RvcmFnZS5nZXRJdGVtKHByb2plY3RUaXRsZSkpO1xyXG4gICAgICAgIGkrKztcclxuICAgIH0pO1xyXG59IiwiaW1wb3J0IHsgcHJvamVjdHMgfSBmcm9tIFwiLi9pbmRleFwiO1xyXG5pbXBvcnQgeyBzYXZlTG9jYWxseSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldFVwQ29udGVudCgpIHtcclxuXHRjb25zdCBjb250ZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjb250ZW50XCIpO1xyXG5cdGNvbnRlbnQuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcblx0bGV0IGN1cnJlbnRQcm9qZWN0ID0gZ2V0Q3VycmVudFByb2plY3QoKTtcclxuXHJcblx0Y3JlYXRlUHJvamVjdFVJKGN1cnJlbnRQcm9qZWN0KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q3VycmVudFByb2plY3QoKSB7XHJcblx0Y29uc3QgcG9zc2liaWxpdGllcyA9IFtcclxuXHRcdC4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIucHJvamVjdHMgbGlcIiksXHJcblx0XHQuLi5kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlZmF1bHQtdGltZXRhYmxlcyBsaVwiKSxcclxuXHRdO1xyXG5cclxuXHRmb3IgKGxldCBwb3NzaWJpbGl0eSBpbiBwb3NzaWJpbGl0aWVzKSB7XHJcblx0XHRpZiAocG9zc2liaWxpdGllc1twb3NzaWJpbGl0eV0uY2xhc3NMaXN0LmNvbnRhaW5zKFwiYWN0aXZlXCIpICYmICFwb3NzaWJpbGl0aWVzW3Bvc3NpYmlsaXR5XS5jbGFzc0xpc3QuY29udGFpbnMoXCJhZGQtcHJvamVjdFwiKSkge1xyXG5cdFx0XHR2YXIgY3VycmVudFByb2plY3QgPSBwb3NzaWJpbGl0aWVzW3Bvc3NpYmlsaXR5XTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cdGlmIChjdXJyZW50UHJvamVjdC5jbGFzc0xpc3QuY29udGFpbnMoXCJwcm9qZWN0XCIpKSB7XHJcblx0XHRyZXR1cm4gcHJvamVjdHMuZmluZCgocHJvamVjdCkgPT4gcHJvamVjdC50aXRsZSA9PSBjdXJyZW50UHJvamVjdC5jaGlsZE5vZGVzWzFdLmNoaWxkTm9kZXNbMF0udGV4dENvbnRlbnQpO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRyZXR1cm4gcHJvamVjdHMuZmluZCgocHJvamVjdCkgPT4gcHJvamVjdC50aXRsZSA9PSBjdXJyZW50UHJvamVjdC50ZXh0Q29udGVudC50cmltKCkpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdFVJKGN1cnJlbnRQcm9qZWN0KSB7XHJcblx0Y29uc3QgY29udGVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY29udGVudFwiKTtcclxuXHRjb250ZW50LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG5cdGNvbnRlbnQuYXBwZW5kQ2hpbGQocHJvamVjdE5hbWUoY3VycmVudFByb2plY3QpKTtcclxuXHJcblx0Y29udGVudC5hcHBlbmRDaGlsZChjcmVhdGVQcm9qZWN0VGFza0NhcmRzKGN1cnJlbnRQcm9qZWN0KSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RUYXNrQ2FyZHMoY3VycmVudFByb2plY3QpIHtcclxuXHRjb25zdCB0YXNrcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0dGFza3MuY2xhc3NOYW1lID0gXCJwcm9qZWN0LXRhc2tzXCI7XHJcblxyXG5cdGZvciAobGV0IHRhc2sgaW4gY3VycmVudFByb2plY3QucHJvamVjdFRhc2tzKSB7XHJcblx0XHRjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNhcmQuY2xhc3NOYW1lID0gXCJ0YXNrLWNhcmRcIjtcclxuXHJcblx0XHRjb25zdCB0YXNrVGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdHRhc2tUaXRsZS5jbGFzc05hbWUgPSBcInRhc2stdGl0bGVcIjtcclxuXHRcdHRhc2tUaXRsZS50ZXh0Q29udGVudCA9IGN1cnJlbnRQcm9qZWN0LnByb2plY3RUYXNrc1t0YXNrXS50aXRsZTtcclxuXHJcblx0XHRjb25zdCB0YXNrRGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdHRhc2tEZXNjcmlwdGlvbi5jbGFzc05hbWUgPSBcInRhc2stZGVzY3JpcHRpb25cIjtcclxuXHRcdHRhc2tEZXNjcmlwdGlvbi50ZXh0Q29udGVudCA9IGN1cnJlbnRQcm9qZWN0LnByb2plY3RUYXNrc1t0YXNrXS5kZXNjcmlwdGlvbjtcclxuXHJcblx0XHRjb25zdCByb3VuZCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRyb3VuZC5jbGFzc05hbWUgPSBcInJvdW5kXCI7XHJcblxyXG5cdFx0Y29uc3QgY2hlY2tib3ggPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7XHJcblx0XHRjaGVja2JveC50eXBlID0gXCJjaGVja2JveFwiO1xyXG5cdFx0Y2hlY2tib3guaWQgPSBgY2hlY2tib3gke3Rhc2t9YDtcclxuXHJcblx0XHRpZiAoY3VycmVudFByb2plY3QucHJvamVjdFRhc2tzW3Rhc2tdLmZpbmlzaGVkKSB7XHJcblx0XHRcdGNoZWNrYm94LmNoZWNrZWQgPSB0cnVlO1xyXG5cdFx0XHRjYXJkLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwicmlnaHRcIjtcclxuXHRcdFx0Y2FyZC5zdHlsZS5iYWNrZ3JvdW5kID0gXCJsaW5lYXItZ3JhZGllbnQodG8gbGVmdCwgcmdiKDE0LCAxODAsIDE3KSA1MCUsIHJnYmEoMTg4LCAxODgsIDE4OCwgMC40NzYpIDUwJSkgcmlnaHRcIjtcclxuXHRcdFx0Y2FyZC5zdHlsZS5iYWNrZ3JvdW5kU2l6ZSA9IFwiMjAwJVwiO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZXZlbnQpID0+IHtcclxuXHRcdFx0bGV0IGlkID0gZXZlbnQudGFyZ2V0LmlkLnRvU3RyaW5nKCk7XHJcblx0XHRcdGNvbXBsZXRlVGFzayhpZCk7XHJcblx0XHR9KTtcclxuXHJcblx0XHRjb25zdCBjaGVja2JveGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xyXG5cdFx0Y2hlY2tib3hsYWJlbC5odG1sRm9yID0gYGNoZWNrYm94JHt0YXNrfWA7XHJcblxyXG5cdFx0cm91bmQuYXBwZW5kQ2hpbGQoY2hlY2tib3gpO1xyXG5cdFx0cm91bmQuYXBwZW5kQ2hpbGQoY2hlY2tib3hsYWJlbCk7XHJcblxyXG5cdFx0Y2FyZC5hcHBlbmRDaGlsZCh0YXNrVGl0bGUpO1xyXG5cdFx0Y2FyZC5hcHBlbmRDaGlsZCh0YXNrRGVzY3JpcHRpb24pO1xyXG5cdFx0Y2FyZC5hcHBlbmRDaGlsZChyb3VuZCk7XHJcblxyXG5cdFx0dGFza3MuYXBwZW5kQ2hpbGQoY2FyZCk7XHJcblx0fVxyXG5cclxuXHQvLyBBREQgTkVXIFRBU0sgQlROXHJcblx0Y29uc3QgYWRkVGFza0NhcmQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGFkZFRhc2tDYXJkLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVBZGRUYXNrVUkpO1xyXG5cdGFkZFRhc2tDYXJkLmNsYXNzTmFtZSA9IFwidGFzay1jYXJkIGFkZC10YXNrXCI7XHJcblxyXG5cdGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaVwiKTtcclxuXHRpY29uLmNsYXNzTmFtZSA9IFwiZmFzIGZhLXBsdXNcIjtcclxuXHRpY29uLmFyaWFIaWRkZW4gPSB0cnVlO1xyXG5cclxuXHRjb25zdCBhZGRUYXNrVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGFkZFRhc2tUZXh0LnRleHRDb250ZW50ID0gXCJBZGQgbmV3IHRhc2tcIjtcclxuXHJcblx0YWRkVGFza0NhcmQuYXBwZW5kQ2hpbGQoaWNvbik7XHJcblx0YWRkVGFza0NhcmQuYXBwZW5kQ2hpbGQoYWRkVGFza1RleHQpO1xyXG5cdHRhc2tzLmFwcGVuZENoaWxkKGFkZFRhc2tDYXJkKTtcclxuXHJcblx0cmV0dXJuIHRhc2tzO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjb21wbGV0ZVRhc2soaWQpIHtcclxuXHRhbmltYXRlQ2FyZChpZCk7XHJcblx0bGV0IGZpbmlzaGVkVGFzayA9IGlkLnN1YnN0cihpZC5sZW5ndGggLSAxKTtcclxuXHRmaW5pc2hlZFRhc2sgPSBnZXRDdXJyZW50UHJvamVjdCgpLnByb2plY3RUYXNrc1tmaW5pc2hlZFRhc2tdO1xyXG5cdGZpbmlzaGVkVGFzay5maW5pc2hlZCA9IGZpbmlzaGVkVGFzay5maW5pc2hlZCA/IGZhbHNlIDogdHJ1ZTtcclxuXHRzYXZlTG9jYWxseSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVBZGRUYXNrVUkoKSB7XHJcblx0Y29uc3QgYWRkVGFza0NhcmQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrXCIpO1xyXG5cclxuXHRhZGRUYXNrQ2FyZC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlQWRkVGFza1VJKTtcclxuXHJcblx0aW5wdXRBZGRUYXNrKCk7XHJcblxyXG5cdGNvbnN0IGNvbmZpcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmFkZC10YXNrIC5jb25maXJtXCIpO1xyXG5cdGNvbnN0IGNhbmNlbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXRhc2sgLmNhbmNlbFwiKTtcclxuXHJcblx0Y29uZmlybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcGFzc1Rhc2spO1xyXG5cdGNhbmNlbC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcmVzZXRBZGRUYXNrKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5wdXRBZGRUYXNrKCkge1xyXG5cdGNvbnN0IGFkZFRhc2tDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcclxuXHRhZGRUYXNrQ2FyZC5jbGFzc0xpc3QuYWRkKFwiYWN0aXZlXCIpO1xyXG5cclxuXHRhZGRUYXNrQ2FyZC5pbm5lckhUTUwgPSBgPGlucHV0IGlkPVwidGFzay1uYW1lXCIgbWF4bGVuZ3RoPSBcIjQwXCIgcGxhY2Vob2xkZXI9XCJUYXNrIG5hbWVcIj5cclxuICAgIDxpbnB1dCBpZD1cInRhc2stZGVzY3JpcHRpb25cIiBtYXhsZW5ndGg9IFwiMTAwXCIgcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvblwiPjwvaW5wdXQ+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29uZmlybWF0aW9uXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwiY29uZmlybVwiPkFkZDwvZGl2PlxyXG4gICAgPGRpdiBjbGFzcz1cImNhbmNlbFwiPkNhbmNlbDwvZGl2PlxyXG4gICAgPC9kaXY+YFxyXG5cclxuXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHBhc3NUYXNrKCkge1xyXG5cdGNvbnN0IHRhc2sgPSBUYXNrKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdGFzay1uYW1lXCIpLnZhbHVlLCBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Rhc2stZGVzY3JpcHRpb25cIikudmFsdWUpO1xyXG5cclxuXHRpZiAodGFzay50aXRsZSAhPSBcIlwiKSB7XHJcblx0XHRjb25zdCBjdXJyZW50UHJvamVjdCA9IGdldEN1cnJlbnRQcm9qZWN0KCk7XHJcblx0XHRjdXJyZW50UHJvamVjdC5wcm9qZWN0VGFza3MucHVzaCh0YXNrKTtcclxuXHRcdGNyZWF0ZVByb2plY3RVSShjdXJyZW50UHJvamVjdCk7XHJcblx0XHRzYXZlTG9jYWxseSgpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gcmVzZXRBZGRUYXNrKCkge1xyXG5cdGNvbnN0IGFkZFRhc2tDYXJkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtdGFza1wiKTtcclxuXHRhZGRUYXNrQ2FyZC5jbGFzc0xpc3QucmVtb3ZlKFwiYWN0aXZlXCIpO1xyXG5cdGFkZFRhc2tDYXJkLmlubmVySFRNTCA9IGA8aSBjbGFzcz1cImZhcyBmYS1wbHVzXCIgYXJpYS1oaWRkZW49XCJ0cnVlXCI+PC9pPjxwPkFkZCBuZXcgdGFzazwvcD5gO1xyXG5cdHNldFRpbWVvdXQoKCkgPT4gYWRkVGFza0NhcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZUFkZFRhc2tVSSksIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcm9qZWN0TmFtZShjdXJyZW50UHJvamVjdCkge1xyXG5cdGNvbnN0IGhlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcclxuXHRoZWFkZXIudGV4dENvbnRlbnQgPSBjdXJyZW50UHJvamVjdC50aXRsZTtcclxuXHJcblx0cmV0dXJuIGhlYWRlcjtcclxufVxyXG5cclxuZnVuY3Rpb24gYW5pbWF0ZUNhcmQoaWQpIHtcclxuXHRjb25zdCBjaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcclxuXHRjb25zdCBjYXJkID0gY2hlY2tib3gucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xyXG5cdGlmIChjaGVja2JveC5jaGVja2VkKSB7XHJcblx0XHRjYXJkLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwicmlnaHRcIjtcclxuXHRcdGNhcmQuc3R5bGUuYmFja2dyb3VuZCA9IFwibGluZWFyLWdyYWRpZW50KHRvIGxlZnQsIHJnYigxNCwgMTgwLCAxNykgNTAlLCByZ2JhKDE4OCwgMTg4LCAxODgsIDAuNDc2KSA1MCUpIHJpZ2h0XCI7XHJcblx0XHRjYXJkLnN0eWxlLmJhY2tncm91bmRTaXplID0gXCIyMDAlXCI7XHJcblx0XHRjYXJkLnN0eWxlLnRyYW5zaXRpb24gPSBcIi4zcyBlYXNlLW91dFwiO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjYXJkLnN0eWxlLmJhY2tncm91bmRQb3NpdGlvbiA9IFwibGVmdFwiO1xyXG5cdH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIFByb2plY3QodGl0bGUsIGRlc2NyaXB0aW9uKSB7XHJcblx0bGV0IHByb2plY3RUYXNrcyA9IFtdO1xyXG5cdHJldHVybiB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgcHJvamVjdFRhc2tzIH07XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBUYXNrKHRpdGxlLCBkZXNjcmlwdGlvbikge1xyXG5cdGxldCBmaW5pc2hlZCA9IGZhbHNlO1xyXG5cdHJldHVybiB7IHRpdGxlLCBkZXNjcmlwdGlvbiwgZmluaXNoZWQgfTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFkZFByb2plY3QocHJvamVjdCkge1xyXG5cdHByb2plY3RzLnB1c2gocHJvamVjdCk7XHJcblx0c2V0VXBDb250ZW50KCk7XHJcbn0iLCJpbXBvcnQgeyBQcm9qZWN0IH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBhZGRQcm9qZWN0IH0gZnJvbSBcIi4vY29udGVudFwiO1xyXG5pbXBvcnQgeyBzZXRVcENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IHNhdmVMb2NhbGx5IH0gZnJvbSBcIi4vbG9jYWxTdG9yYWdlXCI7XHJcbmltcG9ydCB7IHByb2plY3RzIH0gZnJvbSBcIi4vaW5kZXhcIjtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXRVcFNpZGViYXIoKSB7XHJcbiAgICBzZXRBY3RpdmVFdmVudExpc3RlbmVycyhkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmRlZmF1bHQtdGltZXRhYmxlcyBsaVwiKSk7XHJcbiAgICBjcmVhdGVQcm9qZWN0cygpO1xyXG4gICAgY29uc3QgYWRkUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3RcIik7XHJcbiAgICBhZGRQcm9qZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBjcmVhdGVQcm9qZWN0VUkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRBY3RpdmVFdmVudExpc3RlbmVycyhsaV9pdGVtcykge1xyXG4gICAgbGlfaXRlbXMuZm9yRWFjaCgobGkpID0+IHtcclxuICAgICAgICBpZiAoIWxpLmNsYXNzTGlzdC5jb250YWlucyhcImFkZC1wcm9qZWN0XCIpKSB7XHJcbiAgICAgICAgICAgIGxpLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBsaV9pdGVtcy5mb3JFYWNoKChsaSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5yZW1vdmUoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIGxpLmNsYXNzTGlzdC5hZGQoXCJhY3RpdmVcIik7XHJcbiAgICAgICAgICAgICAgICBzZXRVcENvbnRlbnQoKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlUHJvamVjdFVJKCkge1xyXG4gICAgY29uc3QgYWRkUHJvamVjdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYWRkLXByb2plY3RcIik7XHJcblxyXG4gICAgYWRkUHJvamVjdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgY3JlYXRlUHJvamVjdFVJKTtcclxuXHJcbiAgICBpbnB1dEFkZFByb2plY3QoKTtcclxuXHJcbiAgICBjb25zdCBjb25maXJtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jb25maXJtXCIpO1xyXG4gICAgY29uc3QgY2FuY2VsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYW5jZWxcIik7XHJcblxyXG4gICAgY29uZmlybS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgcGFzc1Byb2plY3QpO1xyXG4gICAgY2FuY2VsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCByZXNldEFkZFByb2plY3QpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZXNldEFkZFByb2plY3QoKSB7XHJcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdFwiKTtcclxuICAgIGFkZFByb2plY3QuY2xhc3NMaXN0LnJlbW92ZShcImFjdGl2ZVwiKTtcclxuICAgIGFkZFByb2plY3QuaW5uZXJIVE1MID0gYDxpIGNsYXNzPVwiZmFzIGZhLXBsdXNcIiBhcmlhLWhpZGRlbj1cInRydWVcIj48L2k+XHJcbiAgICA8ZGl2IGNsYXNzPVwiYWRkLXRleHRcIj5BZGQgcHJvamVjdDwvZGl2PmA7XHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IGFkZFByb2plY3QuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGNyZWF0ZVByb2plY3RVSSksIDEpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbnB1dEFkZFByb2plY3QoKSB7XHJcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdFwiKTtcclxuICAgIGFkZFByb2plY3QuY2xhc3NMaXN0LmFkZChcImFjdGl2ZVwiKTtcclxuXHJcbiAgICBhZGRQcm9qZWN0LmlubmVySFRNTCA9IGA8aW5wdXQgaWQ9XCJwcm9qZWN0LW5hbWVcIiBwbGFjZWhvbGRlcj1cIlByb2plY3QgbmFtZVwiPlxyXG4gICAgPHRleHRhcmVhIGlkPVwicHJvamVjdC1kZXNjcmlwdGlvblwiIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRpb25cIj48L3RleHRhcmVhPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbmZpcm1hdGlvblwiPlxyXG4gICAgPGRpdiBjbGFzcz1cImNvbmZpcm1cIj5BZGQ8L2Rpdj5cclxuICAgIDxkaXYgY2xhc3M9XCJjYW5jZWxcIj5DYW5jZWw8L2Rpdj5cclxuICAgIDwvZGl2PmBcclxufVxyXG5cclxuZnVuY3Rpb24gcGFzc1Byb2plY3QoKSB7XHJcbiAgICBjb25zdCBwcm9qZWN0ID0gUHJvamVjdChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2plY3QtbmFtZVwiKS52YWx1ZSwgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwcm9qZWN0LWRlc2NyaXB0aW9uXCIpLnZhbHVlKTtcclxuXHJcbiAgICBpZiAocHJvamVjdC50aXRsZSAhPSBcIlwiKSB7XHJcbiAgICAgICAgYWRkUHJvamVjdChwcm9qZWN0KTtcclxuICAgICAgICBjcmVhdGVQcm9qZWN0cyhwcm9qZWN0KTtcclxuICAgICAgICBzYXZlTG9jYWxseSgpO1xyXG4gICAgfVxyXG4gICAgcmVzZXRBZGRQcm9qZWN0KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVByb2plY3RzKCkge1xyXG4gICAgY29uc3QgcHJvamVjdHNVTCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvamVjdHNcIik7XHJcbiAgICBwcm9qZWN0c1VMLmlubmVySFRNTCA9IGA8bGkgY2xhc3M9XCJhZGQtcHJvamVjdFwiPlxyXG4gICAgPGkgY2xhc3M9XCJmYXMgZmEtcGx1c1wiIGFyaWEtaGlkZGVuPVwidHJ1ZVwiPjwvaT5cclxuICAgIDxkaXYgY2xhc3M9XCJhZGQtdGV4dFwiPkFkZCBwcm9qZWN0PC9kaXY+XHJcbiAgICA8L2xpPmBcclxuXHJcbiAgICBjb25zdCBhZGRQcm9qZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hZGQtcHJvamVjdFwiKTtcclxuICAgIFxyXG4gICAgZm9yIChsZXQgaSA9IDM7IGkgPCBwcm9qZWN0cy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGxpID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG4gICAgICAgIGxpLmNsYXNzTmFtZSA9IFwicHJvamVjdFwiO1xyXG5cclxuICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlcIik7XHJcbiAgICAgICAgaWNvbi5jbGFzc05hbWUgPSBcImZhcyBmYS10YXNrc1wiO1xyXG4gICAgICAgIGljb24uYXJpYUhpZGRlbiA9IHRydWU7XHJcblxyXG4gICAgICAgIGNvbnN0IHByb2plY3RUaXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcbiAgICAgICAgcHJvamVjdFRpdGxlLmNsYXNzTmFtZSA9IFwicHJvamVjdC10aXRsZVwiO1xyXG4gICAgICAgIHByb2plY3RUaXRsZS50ZXh0Q29udGVudCA9IHByb2plY3RzW2ldLnRpdGxlO1xyXG5cclxuICAgICAgICBjb25zdCBwcm9qZWN0RGVzY3JpcHRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHByb2plY3REZXNjcmlwdGlvbi5jbGFzc05hbWUgPSBcInByb2plY3QtZGVzY3JpcHRpb25cIjtcclxuICAgICAgICBwcm9qZWN0RGVzY3JpcHRpb24udGV4dENvbnRlbnQgPSBwcm9qZWN0c1tpXS5kZXNjcmlwdGlvbjtcclxuXHJcbiAgICAgICAgY29uc3QgcHJvamVjdGluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG4gICAgICAgIHByb2plY3RpbmZvLmNsYXNzTmFtZSA9IFwicHJvamVjdC1pbmZvXCI7XHJcblxyXG4gICAgICAgIHByb2plY3RpbmZvLmFwcGVuZENoaWxkKHByb2plY3RUaXRsZSk7XHJcbiAgICAgICAgcHJvamVjdGluZm8uYXBwZW5kQ2hpbGQocHJvamVjdERlc2NyaXB0aW9uKTtcclxuXHJcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQoaWNvbik7XHJcbiAgICAgICAgbGkuYXBwZW5kQ2hpbGQocHJvamVjdGluZm8pO1xyXG5cclxuICAgICAgICBwcm9qZWN0c1VMLmluc2VydEJlZm9yZShsaSwgYWRkUHJvamVjdCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWN0aXZlRXZlbnRMaXN0ZW5lcnMoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIiNzaWRlYmFyIHVsIGxpXCIpKTtcclxufVxyXG5cclxuIiwiaW1wb3J0IHsgc2V0VXBTaWRlYmFyIH0gZnJvbSBcIi4vc2lkZWJhclwiO1xyXG5pbXBvcnQgeyBzZXRVcENvbnRlbnQgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IFByb2plY3QgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IFRhc2sgfSBmcm9tIFwiLi9jb250ZW50XCI7XHJcbmltcG9ydCB7IGxvYWRMb2NhbGx5LCBzYXZlTG9jYWxseSB9IGZyb20gXCIuL2xvY2FsU3RvcmFnZVwiO1xyXG5cclxuZXhwb3J0IGxldCBwcm9qZWN0cyA9IFtdO1xyXG5cclxuaWYgKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZmlyc3RUaW1lXCIpID09IG51bGwpe1xyXG5cdGxvY2FsU3RvcmFnZS5jbGVhcigpO1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZmlyc3RUaW1lXCIsIGZhbHNlKTtcclxuXHRwcm9qZWN0cyA9IGNyZWF0ZURlZmF1bHRQcm9qZWN0cygpO1xyXG5cdHNhdmVMb2NhbGx5KCk7XHJcbn1lbHNlIHtcclxuXHRsb2FkTG9jYWxseSgpO1xyXG59XHJcblxyXG5zZXRVcFNpZGViYXIoKTtcclxuc2V0VXBDb250ZW50KCk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVEZWZhdWx0UHJvamVjdHMoKSB7XHJcblx0Y29uc3QgdG9kYXlQcm9qZWN0ID0gUHJvamVjdChcIlRvZGF5XCIsIFwiXCIpO1xyXG5cdHRvZGF5UHJvamVjdC5wcm9qZWN0VGFza3MgPSBbXHJcblx0XHRUYXNrKFwiR3JvY2VyaWVzXCIsIFwiR2V0IGdyb2NlcmllcyBmcm9tIHRoZSBzdXBlcm1hcmtldFwiKSxcclxuXHRcdFRhc2soXCJIb21ld29ya1wiLCBcIkRvIHRoZSBob21ld29ya1wiKSxcclxuXHRdO1xyXG5cclxuXHRjb25zdCB0aGlzV2Vla1Byb2plY3QgPSBQcm9qZWN0KFwiVGhpcyBXZWVrXCIsIFwiXCIpO1xyXG5cdHRoaXNXZWVrUHJvamVjdC5wcm9qZWN0VGFza3MgPSBbXHJcblx0XHRUYXNrKFwiU2VydmljZSBjYXJcIiwgXCJTZXJ2aWNlIHRoZSBjYXIgdG8gVG9tYXMnIHNlcnZpY2Ugc2hvcFwiKSxcclxuXHRcdFRhc2soXCJGaW5pc2ggQ1MgcHJvamVjdFwiLCBcIkZpbmlzaCBmaW5hbHMgcHJvamVjdCBhYm91dCBBSVwiKSxcclxuXHRdO1xyXG5cclxuXHRjb25zdCB0aGlzTW9udGhQcm9qZWN0ID0gUHJvamVjdChcIlRoaXMgTW9udGhcIiwgXCJcIik7XHJcblx0dGhpc01vbnRoUHJvamVjdC5wcm9qZWN0VGFza3MgPSBbXHJcblx0XHRUYXNrKFwiUGF5IEVsZWN0cmljaXR5IEJpbGxzXCIsIFwiUGF5IGJpbGxzIG9ubGluZVwiKSxcclxuXHRcdFRhc2soXCJTZWFyY2ggZm9yIG5ldyBqb2JcIiwgXCJTZWFyY2ggTGlua2VkSW4gZm9yIGpvYiBwb3N0aW5nc1wiKSxcclxuXHRdO1xyXG5cclxuXHRyZXR1cm4gW3RvZGF5UHJvamVjdCwgdGhpc1dlZWtQcm9qZWN0LCB0aGlzTW9udGhQcm9qZWN0XTtcclxufVxyXG4iXSwibmFtZXMiOlsiX193ZWJwYWNrX3JlcXVpcmVfXyIsImV4cG9ydHMiLCJkZWZpbml0aW9uIiwia2V5IiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsIm9iaiIsInByb3AiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJzYXZlTG9jYWxseSIsInByb2plY3RzIiwiZm9yRWFjaCIsInByb2plY3QiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwidGl0bGUiLCJKU09OIiwic3RyaW5naWZ5Iiwic2V0VXBDb250ZW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiaW5uZXJIVE1MIiwiY3JlYXRlUHJvamVjdFVJIiwiZ2V0Q3VycmVudFByb2plY3QiLCJwb3NzaWJpbGl0aWVzIiwicXVlcnlTZWxlY3RvckFsbCIsInBvc3NpYmlsaXR5IiwiY2xhc3NMaXN0IiwiY29udGFpbnMiLCJjdXJyZW50UHJvamVjdCIsImZpbmQiLCJjaGlsZE5vZGVzIiwidGV4dENvbnRlbnQiLCJ0cmltIiwiY29udGVudCIsImFwcGVuZENoaWxkIiwiaGVhZGVyIiwiY3JlYXRlRWxlbWVudCIsInByb2plY3ROYW1lIiwidGFza3MiLCJjbGFzc05hbWUiLCJ0YXNrIiwicHJvamVjdFRhc2tzIiwiY2FyZCIsInRhc2tUaXRsZSIsInRhc2tEZXNjcmlwdGlvbiIsImRlc2NyaXB0aW9uIiwicm91bmQiLCJjaGVja2JveCIsInR5cGUiLCJpZCIsImZpbmlzaGVkIiwiY2hlY2tlZCIsInN0eWxlIiwiYmFja2dyb3VuZFBvc2l0aW9uIiwiYmFja2dyb3VuZCIsImJhY2tncm91bmRTaXplIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY29tcGxldGVUYXNrIiwidGFyZ2V0IiwidG9TdHJpbmciLCJjaGVja2JveGxhYmVsIiwiaHRtbEZvciIsImFkZFRhc2tDYXJkIiwiY3JlYXRlQWRkVGFza1VJIiwiaWNvbiIsImFyaWFIaWRkZW4iLCJhZGRUYXNrVGV4dCIsImNyZWF0ZVByb2plY3RUYXNrQ2FyZHMiLCJnZXRFbGVtZW50QnlJZCIsInBhcmVudEVsZW1lbnQiLCJ0cmFuc2l0aW9uIiwiYW5pbWF0ZUNhcmQiLCJmaW5pc2hlZFRhc2siLCJzdWJzdHIiLCJsZW5ndGgiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiYWRkIiwiaW5wdXRBZGRUYXNrIiwiY29uZmlybSIsImNhbmNlbCIsInBhc3NUYXNrIiwicmVzZXRBZGRUYXNrIiwiVGFzayIsInZhbHVlIiwicHVzaCIsInJlbW92ZSIsInNldFRpbWVvdXQiLCJQcm9qZWN0Iiwic2V0QWN0aXZlRXZlbnRMaXN0ZW5lcnMiLCJsaV9pdGVtcyIsImxpIiwiYWRkUHJvamVjdCIsImlucHV0QWRkUHJvamVjdCIsInBhc3NQcm9qZWN0IiwicmVzZXRBZGRQcm9qZWN0IiwiY3JlYXRlUHJvamVjdHMiLCJwcm9qZWN0c1VMIiwiaSIsInByb2plY3RUaXRsZSIsInByb2plY3REZXNjcmlwdGlvbiIsInByb2plY3RpbmZvIiwiaW5zZXJ0QmVmb3JlIiwiZ2V0SXRlbSIsImNsZWFyIiwidG9kYXlQcm9qZWN0IiwidGhpc1dlZWtQcm9qZWN0IiwidGhpc01vbnRoUHJvamVjdCIsImNyZWF0ZURlZmF1bHRQcm9qZWN0cyIsInByb2plY3RUaXRsZXMiLCJrZXlzIiwiZmlsdGVyIiwicGFyc2UiLCJsb2FkTG9jYWxseSJdLCJzb3VyY2VSb290IjoiIn0=